# Исправление ошибки Firebase Auth `auth/configuration-not-found`

Если при входе (например, по Telegram deep link или через `signInWithCustomToken`) появляется **Firebase: Error (auth/configuration-not-found)**, значит сервис Authentication в проекте Firebase ещё не инициализирован. Настройте его в консоли Firebase.

## 1. Включить Authentication

1. Откройте [консоль Firebase](https://console.firebase.google.com/) и выберите ваш проект (например, `family-calendar-22abd`).
2. Перейдите в **Сборка → Authentication** (Build → Authentication).
3. Если видите кнопку **«Начать»** (Get started) — нажмите её. Так создаётся конфигурация Auth для проекта.
4. Включите **хотя бы один способ входа** (например, **Email/Пароль** или **Анонимный**).  
   У входа по кастомному токену нет отдельного переключателя; включение любого способа инициализирует Auth, после чего кастомные токены начнут работать.

## 2. Авторизованные домены (при необходимости)

Если ошибка не исчезла, проверьте авторизованные домены:

1. В разделе **Authentication** откройте вкладку **Настройки** (Settings) или **Способ входа** → **Авторизованные домены**.
2. В списке **Авторизованные домены** должны быть как минимум:
   - `localhost`
   - `family-calendar-22abd.firebaseapp.com`
   - `family-calendar-22abd.web.app`  
   (Замените `family-calendar-22abd` на ID вашего проекта, если он другой.)
3. Добавьте другие домены, которые используете (например, домен для Telegram Login).

## 3. Проверка конфигурации проекта в приложении

Убедитесь, что приложение использует тот же проект, что и консоль:

- В **Настройках проекта** (иконка шестерёнки) → **Ваши приложения** → **Конфигурация SDK** проверьте **apiKey**, **authDomain**, **projectId**.
- В приложении объект `firebaseConfig` в `src/services/firebase.ts` должен совпадать с этим проектом (те же `projectId` и `apiKey`).

После этих шагов попробуйте войти снова. В логе «Login failed at step: …» будет видно, на каком этапе произошла ошибка: `getToken`, `getAuthAsync` или `signInWithCustomToken`.
